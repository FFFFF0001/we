!function(e,t,n,o){function i(e){e.setCapture?e.setCapture():t.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}function s(e){e.releaseCapture?e.releaseCapture():t.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP)}function u(e){var o=0,i=0,s=n.body,u=n.documentElement,e=e||t.event;return e.pageX||e.pageY?(o=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(o=e.clientX+s.scrollLeft+u.scrollLeft,i=e.clientY+s.scrollTop+u.scrollTop),{x:o,y:i}}function l(t,n){this.element=t,this.options=e.extend({},a,n),this.handle=t.find(n.handle),this.init()}var r="draggable",a={handle:".handle",limit:!0};l.prototype.init=function(){var o,l,r=this.handle,a=this.options,p=this.element,c=0,d=0,f=0,m=0,h=p.outerHeight(),v=p.outerWidth();r.css({cursor:"move"});var g=r[0].setCapture?r:e(n);r.on("mousedown",function(E){a.mousedown&&a.mousedown(p),e.browser.msie?r[0].setCapture():E.preventDefault(),i(this),o=e(t).width(),l=e(t).height(),c=e(n).scrollTop(),d=e(n).scrollLeft();var y=p.offset(),w=u(E);"fixed"===p.css("position")?(f=w.x-y.left+d,m=w.y-y.top+c):(f=w.x-y.left,m=w.y-y.top),g.on("mousemove",function(e){e.preventDefault(),t.getSelection?t.getSelection().removeAllRanges():n.selection.empty();var i=u(e),s=i.y,r=i.x,g=r-f,E=s-m;if(a.limit){var y=o-v+d,w=l-h+c;d>g&&(g=d),c>E&&(E=c),g>y&&(g=y),E>w&&(E=w)}p.css({left:g+"px",top:E+"px"}),a.mousemove&&a.mousemove(p,left,top)}).on("mouseup.d keydown",function(t){"keydown"===t.type&&27!==t.keyCode||(s(this),e(g).unbind("mousemove").unbind("mouseup.d"),a.mouseup&&a.mouseup(p))})})},e.fn[r]=Wind[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new l(e(this),t))})}}(jQuery,window,document);